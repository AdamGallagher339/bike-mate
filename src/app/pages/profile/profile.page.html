<ion-header>
  <ion-toolbar>
    <ion-title>My Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">


  <ion-card>
    <ion-card-header>
      <ion-card-title>Hi, {{ '@' + (username || 'Rider') }}</ion-card-title>
      <ion-card-subtitle>{{ riderType || 'Rider' }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <p><strong>Motorcycle:</strong></p>
      <p *ngIf="motorcycleBrand || motorcycleModel">
        {{ motorcycleBrand }} {{ motorcycleModel }}
      </p>
      <p *ngIf="!motorcycleBrand && !motorcycleModel">
        No motorcycle info provided.
      </p>
    </ion-card-content>
  </ion-card>


  <ion-card *ngIf="nextEvent">
    <ion-card-header>
      <ion-card-title>Next Event: {{ nextEvent.title }}</ion-card-title>
      <ion-card-subtitle>
        {{ nextEvent.date }} at {{ nextEvent.time }}<br />
        <ion-text color="primary">{{ nextEvent.countdown }}</ion-text>
      </ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <p><strong>Location:</strong> {{ nextEvent.location }}</p>
      <div style="width: 100%; height: 200px;">
        <iframe
          [src]="googleMapsUrl"
          width="100%"
          height="100%"
          style="border:0;"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </ion-card-content>
  </ion-card>


  <ion-grid>
    <ion-row class="ion-align-items-center" style="row-gap: 10px;">
      <ion-col size="6">
        <ion-button expand="block" shape="round" color="primary" routerLink="/event-list">
          <ion-icon name="calendar-outline" slot="start"></ion-icon>
          Browse Events
        </ion-button>

        <ion-button expand="block" shape="round" color="success" routerLink="/event-create" class="ion-margin-top">
          <ion-icon name="add-circle-outline" slot="start"></ion-icon>
          Create Event
        </ion-button>

        <ion-button expand="block" shape="round" color="medium" routerLink="/following" class="ion-margin-top">
          <ion-icon name="people-outline" slot="start"></ion-icon>
          View Followers
        </ion-button>
      </ion-col>

      <ion-col size="6" class="ion-text-right">
        <ion-button expand="block" shape="round" color="tertiary" routerLink="/settings">
          <ion-icon name="settings-outline" slot="start"></ion-icon>
          Edit Profile
        </ion-button>

        <ion-button expand="block" shape="round" color="danger" (click)="logout()" class="ion-margin-top">
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          Logout
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
